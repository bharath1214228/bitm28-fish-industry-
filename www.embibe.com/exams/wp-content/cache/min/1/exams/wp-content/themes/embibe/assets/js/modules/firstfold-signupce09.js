"use strict";function sigup_mob(){var error=0;var mobile=document.getElementById('mobile').value;var error1=document.getElementById('error1').value;var error2=document.getElementById('error2').value;var error3=document.getElementById('error3').value;var error4=document.getElementById('error4').value;var error5=document.getElementById('error5').value;var agree=document.getElementById('agree');jQuery("#mobile_error").html('');jQuery("#agree_error").html('');var ename=jQuery('#examname').html();var cname=jQuery('.evt_catname').html();if(ename!=''){var enamedata=jQuery('#examname').html()}else{var enamedata=null}
if(cname!=''){var cnamedaat=jQuery('.evt_catname').html()}else{var cnamedaat=null}
var m_length=jQuery('#mobile').val().length;if(mobile===''||mobile==null){jQuery("#mobile_error").show().html(error1);error++;setTimeout(function(){jQuery("#mobile_error").hide()},3000);return!1}
var first_char=jQuery("#mobile").val().substring(0,1);var mobileno=document.getElementById('mobile').value;var phonenoformat=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;if(isNaN(mobile)||mobile.indexOf(" ")!=-1||first_char<=5){jQuery("#mobile_error").show().html(error2);error++;setTimeout(function(){jQuery("#mobile_error").hide()},3000);return!1}
if(!mobileno.match(phonenoformat)){jQuery("#mobile_error").show().html(error3);error++;setTimeout(function(){jQuery("#mobile_error").hide()},3000);return!1}
if(agree.checked==!1){jQuery("#agree_error").show().html(error4);error++;setTimeout(function(){jQuery("#agree_error").hide()},3000)}
var phoneno=/^\d{10}$/;var bodySignup;var bodySignin;var userExistUrl2;var randomStr=randomString(10,'0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ');if(error==0){if(mobileno.match(phoneno)){bodySignup={first_name:"Student",mobile:mobileno,password:"Embibe@123",profile_pic:"https://assets.embibe.com/production/webassets/images/avatar/orange.png"};bodySignin={mobile:mobileno,device_id:randomStr,connected_response:!0};userExistUrl2=userExistUrl+`?mobile=${mobileno}`}
fetch(userExistUrl2,{method:'get',credentials:'include',}).then(response=>response.json()).then(data=>{if(data.data.mobile){jQuery("#mobile_error").show().html(error5)}else{fetch(signUpUrl,{method:'post',credentials:'include',headers:{'Content-Type':'application/json'},body:JSON.stringify(bodySignup),}).then(response=>response.json()).then(data=>{window.dataLayer=window.dataLayer||[];dataLayer.push({"event":'Sign_Up_Proceed',"eventCategory":'Sign_Up_Proceed',"eventAction":'SU_Sign_Up_Proceed_Click',"eventLabel":'Top Banner',"userId":'guest',"ScreenName":jQuery('#name_type').val(),"exam_name":enamedata,"exams_category":cnamedaat,"locale":'en',"is_paid":!1,"org_id":'1',"source":'exams_web',"feature_name":'Sign Up',"module_name":'Sign Up',});window.dataLayer=window.dataLayer||[];dataLayer.push({"event":'Account_Register_Success',"eventCategory":'Account_Register_Success',"eventAction":'SU_Account_Register_Success',"eventLabel":'Top Banner',"userId":'guest',"account_id":data.data.user_details.id,"ScreenName":jQuery('#name_type').val(),"exam_name":enamedata,"exams_category":cnamedaat,"locale":'en',"is_paid":!1,"org_id":'1',"source":'exams_web',"feature_name":'Sign Up',"module_name":'Sign Up',});setCookie('prod_embibe-token',data.data.embibe_token,7)}).then(data=>{window.location.href=rotpdurl})}})}}